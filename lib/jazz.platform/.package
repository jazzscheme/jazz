(package jazz.platform
  
  (root "src")
  (install jazz.platform.install)
  (products (platform (alias jazz.platform))
            (jazz.platform (unit jazz.platform.product)
                           (update jazz.platform
                                   jazz.platform.install
                                   jazz.platform.product
                                   jazz.platform.cairo
                                   jazz.platform.fontconfig
                                   jazz.platform.freetype
                                   jazz.platform.types
                                   jazz.platform.types-syntax)
                           (library
                             (link-options
                                (windows (libdir "~~jazz/foreign/cairo/lib/windows")
                                         (libdir "~~jazz/foreign/windows/lib")
                                         "-lcairo"
                                         "-mwindows"
                                         "-lole32" "-loleaut32"
                                         "-lwinmm" "-lpdh" "-lpsapi")
                                (mac  (pkg-config "--libs" "cairo"))
                                (else (pkg-config "--libs" "cairo"))))
                           (dependencies jazz
                                         jazz.foreign)))
  (project ".project"))
