(module jazz.test.jazz jazz


(import (jazz.core (phase syntax)))


(class Goo extends Expression
  
  
  (slot expressions getter generate)
  
  
  (method override (initialize source expressions)
    (nextmethod)
    (set! expressions~self expressions))
  
  
  (method override (emit-expression declaration environment backend)
    (let ((expressions (emit-expressions expressions declaration environment backend)))
      (new-code
        (emit 'and backend self declaration environment expressions)
        Any
        source))))


(define (walk-goo walker resume declaration environment form-src)
  (new Goo form-src (walk-list walker resume declaration environment (cdr (source-code form-src)))))


(define-walker-special goo jazz walk-goo))
