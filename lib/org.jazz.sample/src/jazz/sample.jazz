;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; Jazz Sample
;;;


(library jazz.sample jazz


;;;
;;;; Interface
;;;


(interface I
  
  
  (method public virtual abstract (i)))


;;;
;;;; Class
;;;


(class C extends Object implements I
  
  
  (method meta (cls)
    v)
  
  
  (slot private s initialize v)
  
  
  (property protected p initialize v accessors generate)
  
  
  (form
    (<install>))
  
  
  (method (initialize)
    (nextmethod v)
    v)
  
  
  (method (i)
    v))


@w
(class Sample extends Object
  
  
  @w
  (macro (m form)
    v)
  
  
  @w
  (syntax (y expr)
    v)
  
  
  @w
  (definition package final d
    (function ()
      v))
  
  
  @w
  (method public inline (f)
    v)
  
  
  @w
  (method chained (g)
    v)
  
  
  @w
  (method synchronized (h)
    v)
  
  
  @w
  (constant c
    (function ()
      v))


  @w
  (enumeration E
    (A #x01)
    (B #x02))
  
  
  @w
  (structure S
    (int x))
  
  
  @w
  (external Jazz bool (e) "JzE")
  
  
  @w
  (intrinsic Jazz bool (%i) "JzI" "i")
  
  
  ;;;
  ;;;; Syntaxes
  ;;;
  
  
  @w
  (method (literals)
    '(2
      2.3
      +2
      -3
      5L
      #b1101
      #x0A
      #f
      #t
      #\a
      #(a b c)
      (a b c)
      x
      :x
      x:
      "x"
      #"x"#
      {Point 2 3}))
  
  
  @w
  (method (comments)
    v ;; x
    @comment x v)
  
  
  @w
  (method (functional-syntax)
    v
    (v v))
  
  
  @w
  (method (object-syntax)
    self
    (x~ v v))
  
  
  @w
  (method (specifier-syntax x <fx>)
    (let ((y <fx> v))
      v))
  
  
  ;;;
  ;;;; Specials
  ;;;
  
  
  @w
  (method (binding-specials)
    (let ((x v))
      (let* ((x v))
        (with-closed ((x v))
          v)))
    (bind (x) v
      (bind-optionals ((x v)) v
        (bind-keywords ((x v)) v
          (receive (x) v
            v)))))
  
  
  @w
  (method (functional-specials)
    (function (x)
      v))
  
  
  @w
  (method (quotation-specials)
    'x
    (quote x))
  
  
  @w
  (method (logical-specials)
    (and v)
    (or v))
  
  
  @w
  (method (control-specials)
    (if v
        v
      v)
    (while v
      v))
  
  
  @w
  (method (assignment-specials)
    (set! v v))
  
  
  @w
  (method (other-specials)
    (optimize (:frame? #f)
      (profile (:on? #t name: other-specials)
      (synchronize v
        v)
      (cast v v))))
  
  
  ;;;
  ;;;; Macros
  ;;;
  
  
  @w
  (method (binding-macros)
    (letrec ((x v))
      (with ((x v))
        v)))
  
  
  @w
  (method (quotation-macros)
    `(x ,v ,@v)
    (quasiquote (x (unquote v) (unquote-splicing v))))
  
  
  @w
  (method (logical-macros)
    (essay v)
    (either v))
  
  
  @w
  (method (control-macros)
    (begin
      v)
    (prog1 v
      v)
    (when v
      v)
    (unless v
      v)
    (cond (v v)
          (else v))
    (case v
      ((x) v)
      (else v))
    (ecase v
      ((v) v)
      (else v))
    (typecase v
      ((v) v)
      (else v))
    (catch v
      v)
    (unwind-protect
        v
      v))
  
  
  @w
  (method (assertion-macros)
    (assert v)
    (assert-type v v)
    (error? v))
  
  
  @w
  (method (iteration-macros)
    (loop (for x from v to v by v)
          (collect v)
          (do v)))
  
  
  @w
  (method (assignment-macros)
    (increase! v v)
    (decrease! v v))
  
  
  ;;;
  ;;;; Runtime
  ;;;
  
  
  @w
  (method meta (runtime-errors)
    (let ((obj (new Object)))
      (x~ obj)))))
