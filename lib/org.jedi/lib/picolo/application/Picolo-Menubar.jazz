;;;
;;;===============
;;;  Jazz System
;;;===============
;;;
;;;  Copyright 1996-2005 MetaScoop Inc.
;;;  All rights reserved.
;;;
;;;; Picolo Menubar
;;;
;;;  Filename: Picolo-Menubar.jazz
;;;  Creation: Guillaume Cartier
;;;


(library picolo.application.Picolo-Menubar


(import (jazz.ui))


(class Picolo-Menubar extends Menubar
  
  
  ;;;
  ;;;; Menubar
  ;;;

  
  (method (install rest)
    ((super install) rest)
    (with-update-locked
      (function dynamic ()
        (new Label-Item parent: self children: (list (new File-Menu)))
        (new Label-Item parent: self children: (list (new Edit-Menu)))
        (new Label-Item parent: self children: (list (new Tools-Menu)))
        (new Label-Item parent: self children: (list (new Window-Menu)))
        (new Label-Item parent: self children: (list (new Help-Menu))))))


  ;;;
  ;;;; File-Menu
  ;;;


  (class File-Menu extends File-Base-Menu
  
  
    (definition meta class-form
      {Form   (install                                    ) ()
        {Form   (modify      on-revert-saved              ) (visible?: false)}
        {Form   (modify      end-revert-group             ) (visible?: false)}
        {Form   (modify      on-print-preview             ) (visible?: false)}}))


  ;;;
  ;;;; Edit-Menu
  ;;;


  (class Edit-Menu extends Edit-Base-Menu)


  ;;;
  ;;;; Tools-Menu
  ;;;


  (class Tools-Menu extends Menu
  
  
    (definition meta class-form
      {Form   (install                                    ) (title: "&Tools")
        {Form   (new    Label-Item       test             ) (title: "&Test"                icon: {Bitmap-Resource "Script"} action-handler: {Event-Handler :application on-test} accelerator: (:control "T"))}
        {Form   (new    Label-Item       test-shift       ) (title: "&Test Shift"          action-handler: {Event-Handler :application on-test-shift} accelerator: (:control :shift "T"))}
        {Form   (new    Separator-Item                    ) ()}
        {Form   (new    Label-Item       debug-window     ) (title: "Debug &Window"        icon: {Bitmap-Resource "Debugger"} action-handler: {Event-Handler :application on-debug-window} accelerator: (:control :shift F4))}
        {Form   (new    Label-Item       describe-window  ) (title: "Describe &Window"     action-handler: {Event-Handler :application on-describe-window} accelerator: (:alt :shift F4))}
        {Form   (new    Separator-Item                    ) ()}
        {Form   (new    Label-Item       chapters         ) (title: "&Chapters"            icon: {Bitmap-Resource "Branches"} action-handler: {Event-Handler :application on-chapters} accelerator: (:control :alt "C"))}
        {Form   (new    Label-Item       console          ) (title: "&Console"             icon: {Bitmap-Resource "Console"} action-handler: {Event-Handler :application on-console} accelerator: (:control :alt Space))}
        {Form   (new    Separator-Item                    ) ()}
        {Form   (new    Label-Item       zoom-horizontally) (title: "&Expand Horizontally" action-handler: {Event-Handler :application on-zoom-horizontally} accelerator: (:alt :shift Return))}
        {Form   (new    Label-Item       zoom-vertically  ) (title: "&Expand Vertically"   action-handler: {Event-Handler :application on-zoom-vertically} accelerator: (:alt :shift Space))}
        {Form   (new    Label-Item       full-screen      ) (title: "&Full Screen"         action-handler: {Event-Handler :application on-full-screen} accelerator: (:alt :shift Backspace))}}))


  ;;;
  ;;;; Help-Menu
  ;;;
  
  
  (class Help-Menu extends Menu
  
  
    (definition meta class-form
      {Form   (install                     ) (title: "&Help")
        {Form   (new    Label-Item         ) (title: "&Readme"        icon: {Bitmap-Resource "Document"} action-handler: {Event-Handler :application on-readme})}
        {Form   (new    Separator-Item     ) ()}
        {Form   (new    Label-Item         ) (title: "&About Picolo..." icon: {Bitmap-Resource "About"} action-handler: {Event-Handler :application on-about})}}))))
