;;;
;;;===============
;;;  Jazz System
;;;===============
;;;
;;;  Copyright 1996-2005 MetaScoop Inc.
;;;  All rights reserved.
;;;
;;;; Picolo Menubar
;;;
;;;  Filename: Picolo-Menubar.jazz
;;;  Creation: Guillaume Cartier
;;;


(library picolo.application.Picolo-Menubar jazz


(import (jazz.jml)
        (jazz.library)
        (jazz.ui))


(class Picolo-Menubar extends Menubar
  
  
  ;;;
  ;;;; Menubar
  ;;;

  
  (method (install rest)
    (nextmethod rest)
    (with-update-locked
      (function dynamic ()
        (new Label-Item parent: self children: (list (new File-Menu)))
        (new Label-Item parent: self children: (list (new Edit-Menu)))
        (new Label-Item parent: self children: (list (new Tools-Menu)))
        (new Label-Item parent: self children: (list (new Window-Menu)))
        (new Label-Item parent: self children: (list (new Help-Menu)))))))


;;;
;;;; File-Menu
;;;


(class File-Menu extends File-Base-Menu
  
  
  (form
    (<install>
      (<!> name: on-revert-saved  visible?: #f)
      (<!> name: end-revert-group visible?: #f)
      (<!> name: on-print-preview visible?: #f))))


;;;
;;;; Edit-Menu
;;;


(class Edit-Menu extends Edit-Base-Menu)


;;;
;;;; Tools-Menu
;;;


(class Tools-Menu extends Menu
  
  
  (form
    (<install>                                    title: "&Tools"
      (<Label-Item>       name: test              title: "&Test"                icon: {Bitmap-Resource "Script"} action: {Action picolo test})
      (<Label-Item>       name: test-shift        title: "&Test Shift"          action: {Action picolo test-shift})
      (<Separator-Item>)
      (<Label-Item>       name: debug-view        title: "Debug &View"          icon: {Bitmap-Resource "Debugger"} action: {Action picolo debug-view})
      (<Separator-Item>)
      (<Label-Item>       name: chapters          title: "&Chapters"            icon: {Bitmap-Resource "Branches"} action: {Action picolo view-chapters})
      (<Label-Item>       name: console           title: "&Console"             icon: {Bitmap-Resource "Console"} action: {Action picolo view-console})
      (<Separator-Item>)
      (<Label-Item>       name: zoom-horizontally title: "&Expand Horizontally" action: {Action application zoom-horizontally})
      (<Label-Item>       name: zoom-vertically   title: "&Expand Vertically"   action: {Action application zoom-vertically})
      (<Label-Item>       name: full-screen       title: "&Full Screen"         action: {Action application full-screen}))))


;;;
;;;; Help-Menu
;;;


(class Help-Menu extends Menu
  
  
  (form
    (<install>               title: "&Help"
      (<Label-Item>          title: "&Readme"        icon: {Bitmap-Resource "Document"} action: {Action picolo readme})
      (<Separator-Item>)
      (<Label-Item>          title: "&About Picolo..." icon: {Bitmap-Resource "About"} action: {Action picolo about})))))
