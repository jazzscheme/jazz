;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; Windows Internet Definitions
;;;
;;;  The contents of this file are subject to the Mozilla Public License Version
;;;  1.1 (the "License"); you may not use this file except in compliance with
;;;  the License. You may obtain a copy of the License at
;;;  http://www.mozilla.org/MPL/
;;;
;;;  Software distributed under the License is distributed on an "AS IS" basis,
;;;  WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
;;;  for the specific language governing rights and limitations under the
;;;  License.
;;;
;;;  The Original Code is JazzScheme.
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 1996-2007
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):
;;;
;;;  Alternatively, the contents of this file may be used under the terms of
;;;  the GNU General Public License Version 2 or later (the "GPL"), in which
;;;  case the provisions of the GPL are applicable instead of those above. If
;;;  you wish to allow use of your version of this file only under the terms of
;;;  the GPL, and not to allow others to use your version of this file under the
;;;  terms of the MPL, indicate your decision by deleting the provisions above
;;;  and replace them with the notice and other provisions required by the GPL.
;;;  If you do not delete the provisions above, a recipient may use your version
;;;  of this file under the terms of any one of the MPL or the GPL.
;;;
;;;  See www.jazzscheme.org for details.


(library WinInet jazz


@WAIT (


  ;;;
  ;;;; Constants
  ;;;


  (constant INTERNET_OPEN_TYPE_PRECONFIG                    0)
  (constant INTERNET_OPEN_TYPE_DIRECT                       1)
  (constant INTERNET_OPEN_TYPE_PROXY                        3)
  (constant INTERNET_OPEN_TYPE_PRECONFIG_WITH_NO_AUTOPROXY  4)

  (constant INTERNET_DEFAULT_FTP_PORT                       21)
  (constant INTERNET_DEFAULT_GOPHER_PORT                    70)
  (constant INTERNET_DEFAULT_HTTP_PORT                      80)
  (constant INTERNET_DEFAULT_HTTPS_PORT                     443)
  (constant INTERNET_DEFAULT_SOCKS_PORT                     1080)

  (constant INTERNET_SERVICE_URL                            0)
  (constant INTERNET_SERVICE_FTP                            1)
  (constant INTERNET_SERVICE_GOPHER                         2)
  (constant INTERNET_SERVICE_HTTP                           3)
  
  (constant INTERNET_FLAG_RELOAD                            #x80000000)
  
  (constant INTERNET_OPTION_USERNAME                        28)
  (constant INTERNET_OPTION_PASSWORD                        29)

  
  (constant HTTP_QUERY_MIME_VERSION                         0)
  (constant HTTP_QUERY_CONTENT_TYPE                         1)
  (constant HTTP_QUERY_CONTENT_TRANSFER_ENCODING            2)
  (constant HTTP_QUERY_CONTENT_ID                           3)
  (constant HTTP_QUERY_CONTENT_DESCRIPTION                  4)
  (constant HTTP_QUERY_CONTENT_LENGTH                       5)
  (constant HTTP_QUERY_CONTENT_LANGUAGE                     6)
  (constant HTTP_QUERY_ALLOW                                7)
  (constant HTTP_QUERY_PUBLIC                               8)
  (constant HTTP_QUERY_DATE                                 9)
  (constant HTTP_QUERY_EXPIRES                              10)
  (constant HTTP_QUERY_LAST_MODIFIED                        11)
  (constant HTTP_QUERY_MESSAGE_ID                           12)
  (constant HTTP_QUERY_URI                                  13)
  (constant HTTP_QUERY_DERIVED_FROM                         14)
  (constant HTTP_QUERY_COST                                 15)
  (constant HTTP_QUERY_LINK                                 16)
  (constant HTTP_QUERY_PRAGMA                               17)
  (constant HTTP_QUERY_VERSION                              18)
  (constant HTTP_QUERY_STATUS_CODE                          19)
  (constant HTTP_QUERY_STATUS_TEXT                          20)
  (constant HTTP_QUERY_RAW_HEADERS                          21)
  (constant HTTP_QUERY_RAW_HEADERS_CRLF                     22)
  (constant HTTP_QUERY_CONNECTION                           23)
  (constant HTTP_QUERY_ACCEPT                               24)
  (constant HTTP_QUERY_ACCEPT_CHARSET                       25)
  (constant HTTP_QUERY_ACCEPT_ENCODING                      26)
  (constant HTTP_QUERY_ACCEPT_LANGUAGE                      27)
  (constant HTTP_QUERY_AUTHORIZATION                        28)
  (constant HTTP_QUERY_CONTENT_ENCODING                     29)
  (constant HTTP_QUERY_FORWARDED                            30)
  (constant HTTP_QUERY_FROM                                 31)
  (constant HTTP_QUERY_IF_MODIFIED_SINCE                    32)
  (constant HTTP_QUERY_LOCATION                             33)
  (constant HTTP_QUERY_ORIG_URI                             34)
  (constant HTTP_QUERY_REFERER                              35)
  (constant HTTP_QUERY_RETRY_AFTER                          36)
  (constant HTTP_QUERY_SERVER                               37)
  (constant HTTP_QUERY_TITLE                                38)
  (constant HTTP_QUERY_USER_AGENT                           39)
  (constant HTTP_QUERY_WWW_AUTHENTICATE                     40)
  (constant HTTP_QUERY_PROXY_AUTHENTICATE                   41)
  (constant HTTP_QUERY_ACCEPT_RANGES                        42)
  (constant HTTP_QUERY_SET_COOKIE                           43)
  (constant HTTP_QUERY_COOKIE                               44)
  (constant HTTP_QUERY_REQUEST_METHOD                       45)
  (constant HTTP_QUERY_REFRESH                              46)
  (constant HTTP_QUERY_CONTENT_DISPOSITION                  47)
  (constant HTTP_QUERY_FLAG_NUMBER                          #x20000000)
  
  
  (constant FTP_TRANSFER_TYPE_UNKNOWN                       #x00000000)
  (constant FTP_TRANSFER_TYPE_ASCII                         #x00000001)
  (constant FTP_TRANSFER_TYPE_BINARY                        #x00000002)


  ;;;
  ;;;; Enumerations
  ;;;


  (enumeration HTTP_STATUS
    (HTTP_STATUS_CONTINUE            100)
    (HTTP_STATUS_SWITCH_PROTOCOLS    101)
    (HTTP_STATUS_OK                  200)
    (HTTP_STATUS_CREATED             201)
    (HTTP_STATUS_ACCEPTED            202)
    (HTTP_STATUS_PARTIAL             203)
    (HTTP_STATUS_NO_CONTENT          204)
    (HTTP_STATUS_RESET_CONTENT       205)
    (HTTP_STATUS_PARTIAL_CONTENT     206)
    (HTTP_STATUS_AMBIGUOUS           300)
    (HTTP_STATUS_MOVED               301)
    (HTTP_STATUS_REDIRECT            302)
    (HTTP_STATUS_REDIRECT_METHOD     303)
    (HTTP_STATUS_NOT_MODIFIED        304)
    (HTTP_STATUS_USE_PROXY           305)
    (HTTP_STATUS_REDIRECT_KEEP_VERB  307)
    (HTTP_STATUS_BAD_REQUEST         400)
    (HTTP_STATUS_DENIED              401)
    (HTTP_STATUS_PAYMENT_REQ         402)
    (HTTP_STATUS_FORBIDDEN           403)
    (HTTP_STATUS_NOT_FOUND           404)
    (HTTP_STATUS_BAD_METHOD          405)
    (HTTP_STATUS_NONE_ACCEPTABLE     406)
    (HTTP_STATUS_PROXY_AUTH_REQ      407)
    (HTTP_STATUS_REQUEST_TIMEOUT     408)
    (HTTP_STATUS_CONFLICT            409)
    (HTTP_STATUS_GONE                410)
    (HTTP_STATUS_LENGTH_REQUIRED     411)
    (HTTP_STATUS_PRECOND_FAILED      412)
    (HTTP_STATUS_REQUEST_TOO_LARGE   413)
    (HTTP_STATUS_URI_TOO_LONG        414)
    (HTTP_STATUS_UNSUPPORTED_MEDIA   415)
    (HTTP_STATUS_SERVER_ERROR        500)
    (HTTP_STATUS_NOT_SUPPORTED       501)
    (HTTP_STATUS_BAD_GATEWAY         502)
    (HTTP_STATUS_SERVICE_UNAVAIL     503)
    (HTTP_STATUS_GATEWAY_TIMEOUT     504)
    (HTTP_STATUS_VERSION_NOT_SUP     505))

  
  ;;;
  ;;;; Externals
  ;;;


  (winexternal WinInet int  (InternetOpen           string int string string int)                              "InternetOpenW")
  (winexternal WinInet int  (InternetConnect        int string int string string int int int)                  "InternetConnectW")
  (winexternal WinInet bool (InternetSetOption      int int string int)                                        "InternetSetOptionW")
  (winexternal WinInet bool (InternetReadFile       int data int <out> int&))
  (winexternal WinInet bool (InternetCloseHandle    int))
  (winexternal WinInet int  (HttpOpenRequest        int string string string string string int int)            "HttpOpenRequestW")
  (winexternal WinInet bool (HttpSendRequest        int string int int int)                                    "HttpSendRequestW")
  (winexternal WinInet bool (HttpQueryInfo          int int data <in-out> int& <in-out> int&)                  "HttpQueryInfoW")
  (winexternal WinInet bool (FtpGetCurrentDirectory int string <in-out> int&)                                  "FtpGetCurrentDirectoryW")
  (winexternal WinInet bool (FtpGetFile             int string string bool int int int)                        "FtpGetFileW")
  (winexternal WinInet bool (FtpPutFile             int string string int int)                                 "FtpPutFileW")
  (winexternal WinInet bool (FtpDeleteFile          int string)                                                "FtpDeleteFileW"))
)